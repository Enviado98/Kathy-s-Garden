<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saitama Watcher</title>
    <!-- Librería GSAP para animaciones profesionales -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
            background-color: #f0f0f0; /* Fondo neutro */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: sans-serif;
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        #saitama-container {
            width: 90vmin; /* Se adapta a móvil y escritorio */
            height: 90vmin;
            position: relative;
        }

        svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        /* Estilos base para las partes del SVG */
        .skin { fill: #FAD1B0; stroke: #4A3B32; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }
        .white { fill: #FFFFFF; stroke: #4A3B32; stroke-width: 2.5; }
        .black { fill: #1D1D1D; }
        .shadow { fill: rgba(0,0,0,0.1); }
        .highlight { fill: rgba(255,255,255,0.4); }
        .suit-yellow { fill: #FDD835; stroke: #4A3B32; stroke-width: 2.5; }
        .cape-white { fill: #F5F5F5; stroke: #4A3B32; stroke-width: 2.5; }
        .zipper { fill: #333; }

        /* Pupilas separadas para animar */
        .pupil-group {
            transform-origin: center;
        }

        /* Mensaje flotante */
        #hint {
            position: absolute;
            bottom: 20px;
            color: #888;
            font-size: 14px;
            pointer-events: none;
            opacity: 0.7;
        }
    </style>
</head>
<body>

    <div id="saitama-container">
        <!-- SVG Dibujado a mano basado en la imagen de referencia -->
        <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
            
            <!-- CAPA (Fondo) -->
            <path class="cape-white" d="M120,400 Q80,380 60,320 Q50,290 90,280 L150,300 L120,400 Z" />
            <path class="cape-white" d="M380,400 Q420,380 440,320 Q450,290 410,280 L350,300 L380,400 Z" />

            <!-- CUELLO -->
            <path class="skin" d="M200,350 L200,420 L300,420 L300,350" />
            
            <!-- SOMBRA CUELLO -->
            <path class="shadow" d="M200,360 Q250,380 300,360 L300,380 Q250,400 200,380 Z" />

            <!-- TRAJE (Hombros) -->
            <path class="suit-yellow" d="M150,400 Q250,430 350,400 L380,500 L120,500 Z" />
            
            <!-- BOTON NEGRO CAPA -->
            <circle class="black" cx="160" cy="410" r="15" />
            <circle class="black" cx="340" cy="410" r="15" />

            <!-- CABEZA (Forma Base) -->
            <path class="skin" d="M150,250 
                                  C150,120 180,50 250,50 
                                  C320,50 350,120 350,250 
                                  C350,320 320,380 250,380 
                                  C180,380 150,320 150,250 Z" />

            <!-- BRILLO CALVA -->
            <ellipse class="highlight" cx="220" cy="100" rx="20" ry="10" transform="rotate(-30 220 100)" />

            <!-- OREJA IZQ -->
            <path class="skin" d="M150,240 C130,240 130,280 150,280" />
            <path style="fill:none; stroke:#4A3B32; stroke-width:2" d="M145,250 C140,260 145,270 148,270" />

            <!-- OREJA DER -->
            <path class="skin" d="M350,240 C370,240 370,280 350,280" />
            <path style="fill:none; stroke:#4A3B32; stroke-width:2" d="M355,250 C360,260 355,270 352,270" />

            <!-- OJOS (Blancos) -->
            <!-- Ojo Izquierdo -->
            <path class="white eye-white" id="eye-l" d="M190,200 Q220,190 240,200 Q240,225 240,230 Q220,240 190,230 Q190,215 190,200 Z" />
            <!-- Ojo Derecho -->
            <path class="white eye-white" id="eye-r" d="M260,200 Q290,190 310,200 Q310,215 310,230 Q280,240 260,230 Q260,215 260,200 Z" />

            <!-- PUPILAS (Grupo para animar) -->
            <g id="pupils-container">
                <circle id="pupil-l" class="black pupil" cx="215" cy="215" r="3" />
                <circle id="pupil-r" class="black pupil" cx="285" cy="215" r="3" />
            </g>

            <!-- CEJAS (Lineas finas) -->
            <path style="fill:none; stroke:#4A3B32; stroke-width:1.5" d="M190,185 Q215,180 240,185" />
            <path style="fill:none; stroke:#4A3B32; stroke-width:1.5" d="M260,185 Q285,180 310,185" />

            <!-- NARIZ (Punto simple) -->
            <path style="fill:none; stroke:#4A3B32; stroke-width:2" d="M248,255 L252,260" />

            <!-- BOCA (Sonrisa simple) -->
            <path class="black mouth-bg" id="mouth" d="M220,290 Q250,310 280,290 Z" style="fill:#4A3B32; display:none;" /> <!-- Boca abierta oculta -->
            <path style="fill:none; stroke:#4A3B32; stroke-width:2.5" id="mouth-line" d="M220,290 Q250,310 280,290" /> <!-- Sonrisa linea -->

            <!-- SOMBRA CARA (Sutil) -->
            <path class="shadow" d="M330,150 Q340,250 330,320 L350,250 Z" style="opacity:0.5" />

        </svg>
    </div>

    <div id="hint">Toca la pantalla para molestar a Saitama</div>

    <script>
        const container = document.getElementById('saitama-container');
        const pupilL = document.getElementById('pupil-l');
        const pupilR = document.getElementById('pupil-r');
        const mouthLine = document.getElementById('mouth-line');
        const eyebrows = document.querySelectorAll('path[style*="stroke-width:1.5"]');

        let isAngry = false;
        let idleAnimation;

        // Función para parpadeo natural (Idle)
        function startBlinking() {
            const eyes = document.querySelectorAll('.eye-white');
            
            function blink() {
                if (isAngry) return; // No parpadear si te está mirando fijamente
                gsap.to(eyes, { scaleY: 0.1, transformOrigin: "center", duration: 0.1, yoyo: true, repeat: 1 });
                idleAnimation = setTimeout(blink, Math.random() * 3000 + 2000);
            }
            blink();
        }

        startBlinking();

        // Interacción: Molestar a Saitama
        document.body.addEventListener('click', (e) => {
            if (isAngry) return; // Si ya está enojado, no hacer nada
            isAngry = true;
            clearTimeout(idleAnimation); // Detener parpadeo

            // 1. Obtener coordenadas del click/toque
            // Nota: En un SVG plano, "mirar a la pantalla" es mirar al centro y agrandar un poco las pupilas (intimidación)
            
            // Secuencia de animación con GSAP
            const tl = gsap.timeline({
                onComplete: () => {
                    // Volver a la normalidad después de unos segundos
                    setTimeout(resetSaitama, 3000);
                }
            });

            // PASO 1: Congelar la expresión (Neutralizar sonrisa)
            tl.to(mouthLine, { attr: { d: "M230,300 Q250,300 270,300" }, duration: 0.2 }); // Boca recta

            // PASO 2: Mover pupilas lentamente hacia el centro (mirada fija al usuario)
            tl.to([pupilL, pupilR], {
                attr: { r: 5 }, // Pupilas se dilatan un poco (intimidación)
                x: 0, // Centrar si estuvieran movidas
                y: 0,
                duration: 0.8,
                ease: "power2.out"
            }, "-=0.2");

            // PASO 3: Ceño fruncido y Sombra (Estilo "Serious Series")
            // Cambiar el estilo de dibujo a algo más serio (bajar cejas, sombrear ojos)
            
            // Simular cambio de dibujo en las cejas
            tl.to(eyebrows[0], { attr: { d: "M190,195 Q215,205 240,205" }, duration: 0.5 }, "-=0.5"); // Ceja Izq baja
            tl.to(eyebrows[1], { attr: { d: "M260,205 Q285,205 310,195" }, duration: 0.5 }, "-=0.5"); // Ceja Der baja

            // Sombrear la cara (Efecto dramático de anime)
            const svg = document.querySelector('svg');
            const shadowOverlay = document.createElementNS("http://www.w3.org/2000/svg", "path");
            shadowOverlay.setAttribute("d", "M150,200 L350,200 L350,100 L150,100 Z"); // Frente oscurecida
            shadowOverlay.setAttribute("fill", "rgba(0,0,0,0.2)");
            shadowOverlay.setAttribute("class", "temp-shadow");
            // Insertar antes de los ojos para que queden debajo
            // svg.insertBefore(shadowOverlay, document.getElementById('eye-l'));

            // Zoom In dramático (Opcional, pero genial)
            tl.to(container, { scale: 1.1, duration: 2, ease: "power1.out" }, "<");

        });

        function resetSaitama() {
            const tl = gsap.timeline();

            // Quitar ceño
            tl.to(eyebrows[0], { attr: { d: "M190,185 Q215,180 240,185" }, duration: 0.5 });
            tl.to(eyebrows[1], { attr: { d: "M260,185 Q285,180 310,185" }, duration: 0.5 }, "<");

            // Boca feliz
            tl.to(mouthLine, { attr: { d: "M220,290 Q250,310 280,290" }, duration: 0.5 }, "<");

            // Pupilas normales
            tl.to([pupilL, pupilR], { attr: { r: 3 }, duration: 0.5 }, "<");

            // Zoom Out
            tl.to(container, { scale: 1, duration: 0.5 }, "<");

            // Reset flags
            tl.add(() => {
                isAngry = false;
                startBlinking();
            });
        }

        // Efecto de seguimiento suave del mouse (cuando no está enojado)
        document.body.addEventListener('mousemove', (e) => {
            if(isAngry) return;

            const x = (e.clientX / window.innerWidth - 0.5) * 10; // Rango de movimiento limitado
            const y = (e.clientY / window.innerHeight - 0.5) * 10;

            gsap.to([pupilL, pupilR], {
                x: x,
                y: y,
                duration: 0.5
            });
        });

    </script>
</body>
</html>
