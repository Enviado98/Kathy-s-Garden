<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kathy's Garden | Cinematic</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Italianno&family=Cinzel:wght@400;700&display=swap');

        :root {
            --color-bg: #050210;
            --color-moon: #b3cdd1;
            --glow-primary: #00ffcc;
            --glow-secondary: #aa00ff;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--color-bg);
        }

        /* --- ESCENARIO (CONTENEDOR 3D) --- */
        .stage {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            perspective: 1000px; /* Profundidad simulada */
            overflow: hidden;
        }

        /* Capas Globales */
        .layer {
            position: absolute;
            width: 120%; /* Más ancho para permitir movimiento */
            height: 120%;
            left: -10%; top: -10%;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            transform-style: preserve-3d;
        }

        /* --- CAPA 1: CIELO Y LUNA (FONDO LEJANO) --- */
        .bg-sky {
            background: radial-gradient(circle at 50% 30%, #1a1a3a 0%, #050210 80%);
            z-index: 1;
            transform: translateZ(-200px) scale(1.2);
        }

        .moon {
            position: absolute;
            top: 15%;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 150px;
            background: var(--color-moon);
            border-radius: 50%;
            box-shadow: 
                0 0 60px rgba(179, 205, 209, 0.4),
                0 0 100px rgba(179, 205, 209, 0.1);
            filter: blur(1px);
            animation: moonFloat 20s ease-in-out infinite alternate;
        }

        /* --- CAPA 2: BOSQUE LEJANO (SILUETAS) --- */
        .bg-forest {
            z-index: 2;
            transform: translateZ(-100px) scale(1.1);
            filter: blur(2px) brightness(0.6);
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 1000 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,500 L0,300 Q100,100 200,350 T400,300 T600,350 T800,250 T1000,350 L1000,500 Z' fill='%230a0a1a'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: bottom;
            opacity: 0.8;
            animation: panSlow 30s linear infinite alternate;
        }

        /* --- CAPA 3: ELEMENTOS PRINCIPALES (SVG ALTA DEFINICIÓN) --- */
        .mid-ground {
            z-index: 3;
            transform: translateZ(0px);
            /* Aquí van los hongos y plantas nítidas */
        }

        /* --- CAPA 4: PRIMER PLANO (DESENFOCADO - EFECTO CÁMARA) --- */
        .foreground {
            z-index: 10;
            transform: translateZ(100px) scale(0.9);
            filter: blur(6px) contrast(1.2);
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 600' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M-100,600 C100,400 300,600 500,500 S800,600 1200,400 L1200,600 Z' fill='%23000'/%3E%3C/svg%3E");
            background-size: cover;
            background-position: bottom;
            animation: panFast 25s ease-in-out infinite alternate;
        }

        /* --- OBJETOS SVG (Plantas Mágicas) --- */
        .magic-plant {
            position: absolute;
            bottom: 0;
            will-change: transform;
        }
        
        .mushroom-group {
            left: 20%;
            bottom: 5%;
            width: 300px;
            animation: breathe 6s ease-in-out infinite;
        }

        .fern-group {
            right: 15%;
            bottom: 0;
            width: 400px;
            transform-origin: bottom center;
            animation: sway 8s ease-in-out infinite;
        }

        /* --- UI / TÍTULO --- */
        .title-container {
            position: absolute;
            top: 45%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 20;
            text-align: center;
            width: 100%;
        }

        h1 {
            font-family: 'Italianno', cursive;
            font-size: 7rem;
            color: rgba(255,255,255,0.9);
            text-shadow: 0 0 20px var(--glow-secondary), 0 0 40px rgba(0,0,0,0.5);
            margin: 0;
            opacity: 0;
            animation: fadeUp 3s ease-out forwards 1s;
        }
        
        h2 {
            font-family: 'Cinzel', serif;
            font-size: 1rem;
            letter-spacing: 8px;
            color: var(--glow-primary);
            margin-top: -10px;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeUp 3s ease-out forwards 2s;
        }

        /* --- CANVAS DE PARTÍCULAS (HADAS Y LUCES) --- */
        canvas {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 5; /* Entre el medio y el frente */
            mix-blend-mode: screen; /* Fusión de luz */
        }

        /* --- ANIMACIONES AUTOMÁTICAS (CINEMÁTICAS) --- */
        @keyframes breathe {
            0%, 100% { transform: scale(1); filter: drop-shadow(0 0 10px var(--glow-secondary)); }
            50% { transform: scale(1.03); filter: drop-shadow(0 0 25px var(--glow-secondary)); }
        }

        @keyframes sway {
            0% { transform: rotate(1deg); }
            50% { transform: rotate(-2deg); }
            100% { transform: rotate(1deg); }
        }

        @keyframes moonFloat {
            0% { transform: translateX(-50%) translateY(0); }
            100% { transform: translateX(-50%) translateY(-20px); }
        }

        @keyframes panSlow {
            0% { transform: translateZ(-100px) scale(1.1) translateX(-2%); }
            100% { transform: translateZ(-100px) scale(1.1) translateX(2%); }
        }

        @keyframes panFast {
            0% { transform: translateZ(100px) scale(0.9) translateX(2%); }
            100% { transform: translateZ(100px) scale(0.9) translateX(-2%); }
        }

        @keyframes fadeUp {
            to { opacity: 1; transform: translate(-50%, -50%) translateY(0); }
        }
        
        /* Ajustes Móvil */
        @media (max-width: 768px) {
            h1 { font-size: 5rem; }
            .mushroom-group { width: 180px; left: 10%; }
            .fern-group { width: 250px; right: -10%; }
        }
    </style>
</head>
<body>

    <!-- Escenario Cinematográfico -->
    <div class="stage">
        
        <!-- Capa 1: Fondo -->
        <div class="layer bg-sky">
            <div class="moon"></div>
        </div>

        <!-- Capa 2: Bosque Siluetas -->
        <div class="layer bg-forest"></div>

        <!-- Capa de Hadas (Canvas JS) -->
        <canvas id="fairyDust"></canvas>

        <!-- Capa 3: Elementos Principales (SVG de alta calidad insertados en línea) -->
        <div class="layer mid-ground">
            
            <!-- Hongos Mágicos (SVG Art) -->
            <div class="magic-plant mushroom-group">
                <svg viewBox="0 0 300 400" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="stemGrad" x1="0" y1="0" x2="0" y2="1">
                            <stop offset="0%" stop-color="#aa00ff"/>
                            <stop offset="100%" stop-color="#2a004a"/>
                        </linearGradient>
                        <radialGradient id="capGrad" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" stop-color="#00ffcc"/>
                            <stop offset="90%" stop-color="#0044aa"/>
                        </radialGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="6" result="coloredBlur"/>
                            <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
                        </filter>
                    </defs>
                    <!-- Hongo Grande -->
                    <path d="M120,380 Q100,200 130,150" stroke="url(#stemGrad)" stroke-width="20" fill="none" stroke-linecap="round"/>
                    <path d="M60,150 Q150,50 240,150 Q150,170 60,150 Z" fill="url(#capGrad)" filter="url(#glow)"/>
                    <!-- Manchas brillantes -->
                    <circle cx="100" cy="120" r="5" fill="#fff" opacity="0.8"/>
                    <circle cx="160" cy="100" r="8" fill="#fff" opacity="0.6"/>
                    <circle cx="200" cy="130" r="4" fill="#fff" opacity="0.7"/>

                    <!-- Hongo Pequeño -->
                    <path d="M180,380 Q210,300 200,250" stroke="url(#stemGrad)" stroke-width="12" fill="none" stroke-linecap="round"/>
                    <path d="M160,250 Q200,200 240,250 Q200,260 160,250 Z" fill="url(#capGrad)" filter="url(#glow)"/>
                </svg>
            </div>

            <!-- Helecho Alienígena -->
            <div class="magic-plant fern-group">
                <svg viewBox="0 0 400 500" xmlns="http://www.w3.org/2000/svg">
                     <defs>
                        <linearGradient id="fernGrad" x1="0" y1="1" x2="0" y2="0">
                            <stop offset="0%" stop-color="#001100"/>
                            <stop offset="100%" stop-color="#00ffcc"/>
                        </linearGradient>
                    </defs>
                    <g filter="url(#glow)">
                        <path d="M200,500 Q150,300 50,200" stroke="url(#fernGrad)" stroke-width="2" fill="none"/>
                        <path d="M200,500 Q200,250 200,50" stroke="url(#fernGrad)" stroke-width="3" fill="none"/>
                        <path d="M200,500 Q250,300 350,250" stroke="url(#fernGrad)" stroke-width="2" fill="none"/>
                        <!-- Hojas -->
                        <ellipse cx="200" cy="50" rx="10" ry="30" fill="#00ffcc" opacity="0.6"/>
                        <ellipse cx="50" cy="200" rx="10" ry="20" fill="#00ffcc" opacity="0.4" transform="rotate(-45 50 200)"/>
                        <ellipse cx="350" cy="250" rx="10" ry="20" fill="#00ffcc" opacity="0.4" transform="rotate(45 350 250)"/>
                    </g>
                </svg>
            </div>

        </div>

        <!-- Capa 4: Primer Plano (Blur) -->
        <div class="layer foreground"></div>
        
    </div>

    <!-- Título Flotante -->
    <div class="title-container">
        <h1>Kathy's Garden</h1>
        <h2>The Enchanted Realm</h2>
    </div>

    <script>
        /**
         * KATHY'S GARDEN - CINEMATIC ENGINE
         * Genera vida (hadas) usando Canvas, pero mantiene el fondo estático/CSS para nitidez.
         */
        
        const canvas = document.getElementById('fairyDust');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        const fairies = [];
        const dust = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // --- CLASE: HADA (FAIRY) ---
        class Fairy {
            constructor() {
                this.init();
            }

            init() {
                this.x = Math.random() * width;
                this.y = Math.random() * height * 0.8 + height * 0.1;
                this.vx = (Math.random() - 0.5) * 1.5; // Velocidad X suave
                this.vy = (Math.random() - 0.5) * 1.5; // Velocidad Y suave
                this.size = Math.random() * 2 + 2;
                this.angle = 0;
                this.hue = Math.random() * 50 + 130; // Verdes a Azules
            }

            update() {
                // Movimiento biológico (Sine wave)
                this.angle += 0.05;
                this.x += this.vx + Math.sin(this.angle) * 0.5;
                this.y += this.vy + Math.cos(this.angle * 0.5) * 0.3;

                // Rebotar suavemente en bordes
                if(this.x < 0 || this.x > width) this.vx *= -1;
                if(this.y < 0 || this.y > height) this.vy *= -1;
            }

            draw() {
                // Cuerpo brillante
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `hsl(${this.hue}, 100%, 80%)`;
                ctx.shadowBlur = 15;
                ctx.shadowColor = `hsl(${this.hue}, 100%, 50%)`;
                ctx.fill();
                
                // Alas (batido rápido)
                const wingSize = this.size * 3;
                const flap = Math.abs(Math.sin(Date.now() * 0.02)); // Aleteo
                
                ctx.fillStyle = `hsla(${this.hue}, 100%, 90%, ${0.3 * flap})`;
                ctx.shadowBlur = 0;
                
                // Ala izquierda
                ctx.beginPath();
                ctx.ellipse(this.x - this.size, this.y, wingSize * flap, wingSize/3, Math.PI/4, 0, Math.PI*2);
                ctx.fill();
                // Ala derecha
                ctx.beginPath();
                ctx.ellipse(this.x + this.size, this.y, wingSize * flap, wingSize/3, -Math.PI/4, 0, Math.PI*2);
                ctx.fill();
            }
        }

        // --- CLASE: POLVO MÁGICO (FONDO) ---
        class Dust {
            constructor() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.vy = Math.random() * -0.5 - 0.1; // Siempre sube lento
                this.size = Math.random() * 1.5;
                this.alpha = Math.random();
            }
            update() {
                this.y += this.vy;
                if(this.y < -10) this.y = height + 10;
            }
            draw() {
                ctx.fillStyle = `rgba(200, 255, 255, ${this.alpha * 0.3})`;
                ctx.shadowBlur = 0;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
                ctx.fill();
            }
        }

        // Inicializar
        for(let i=0; i<15; i++) fairies.push(new Fairy()); // 15 Hadas "Heroicas"
        for(let i=0; i<100; i++) dust.push(new Dust());    // 100 partículas de ambiente

        function animate() {
            ctx.clearRect(0, 0, width, height);
            
            // Dibujar Polvo (Fondo)
            dust.forEach(d => { d.update(); d.draw(); });

            // Dibujar Hadas (Primer plano)
            fairies.forEach(f => { f.update(); f.draw(); });

            requestAnimationFrame(animate);
        }

        animate();

    </script>
</body>
</html>
